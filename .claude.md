# Doc Expert — Project Memory

## Project Goal

Build a skill that helps users generate enterprise documents when they **don't know how to write them**. This is NOT a template updater - it's an expert-driven draft generator that asks minimal questions and fills in safe defaults.

## Core Philosophy

**User perspective:** "I don't know how to write this document. Just help me write it. Only ask what's necessary."

**Claude's role:** Act as an expert who drafts the document, making conservative assumptions when information is missing.

---

## Design Principles

### 1. Minimal Questioning
- Max 5 questions per turn
- Only ask about content substance (what changed, who's affected, constraints)
- Never ask about metadata (status, approvers, version)
- Never ask about formatting

### 2. Safe Defaults
- When in doubt, use conservative values
- Mark uncertain areas as "To Be Confirmed"
- Always label output as "DRAFT"
- Document assumptions explicitly

### 3. Expert-Driven Generation
- Claude acts as domain expert
- User provides facts, Claude structures and formalizes
- Output is enterprise-ready on first draft
- Reasoning stays internal, output is clean

---

## Two Operating Modes

### Mode 1: Normal Mode (Default)

**Purpose:** Generate structured documents for general enterprise use

**Behavior:**
- Recognize document type (Test Plan, BRD, PRD, Release Plan, etc.)
- Ask 5 minimal questions
- Generate structured draft
- Use safe defaults for missing info
- Include Assumptions, Risks, Open Questions sections

**Trigger:** Default behavior when skill is invoked

---

### Mode 2: QA-Senior Mode

**Purpose:** Generate QA documents with senior-level reasoning and quality checks

**Behavior:**
- Think as a senior QA consultant (10+ years experience)
- Apply risk-based prioritization
- Always include negative paths and edge cases
- Consider regression impact
- Check integration boundaries
- Include rollback scenarios
- Auto-add missing quality checks

**QA Reasoning Pattern:**
1. Identify critical paths (what must work)
2. Identify failure points (where it could break)
3. Consider data flow (what data is touched)
4. Consider integration (what systems affected)
5. Prioritize by risk (high-risk first)

**QA-Specific Defaults:**
- Test environment: Staging (prod-like)
- Risk level: Medium
- Regression scope: Partial regression required
- Entry criteria: Build stable, major defects closed
- Exit criteria: No critical defects
- Rollback plan: Required for production

**Trigger:** User says "Act as senior QA" or "Use QA mode"

---

## Comparison with Other Skills

| Skill | Purpose | User Knowledge | Input |
|-------|---------|---------------|-------|
| `doc-revision` | Update existing document | User knows structure | Previous version (PDF/Word) |
| `doc-expert` | Generate from scratch | User may not know structure | Minimal info (5 questions) |

**doc-revision** = Template-Driven Updater (learns from previous version)
**doc-expert** = Expert-Driven Draft Generator (no template needed)

---

## What This Skill Does NOT Do

- ❌ Learn from previous document versions (use `doc-revision` for that)
- ❌ Ask about approval workflows
- ❌ Ask about document status or reviewers
- ❌ Ask formatting preferences
- ❌ Require user to provide structure
- ❌ Ask "Is this okay?" after every section

---

## What This Skill DOES

- ✅ Generate structured draft with minimal input
- ✅ Apply domain expertise (especially in QA mode)
- ✅ Use safe conservative defaults
- ✅ Mark uncertain areas explicitly
- ✅ Include Assumptions, Risks, Open Questions
- ✅ Produce Confluence-ready output
- ✅ Think like a senior professional (in QA mode)

---

## Document Type Recognition

The skill auto-detects document type based on keywords:

| Type | Keywords | Default Structure |
|------|----------|------------------|
| Test Plan | "test", "QA", "testing", "quality" | Scope, Approach, Test Cases, Entry/Exit |
| Requirements | "requirements", "BRD", "PRD", "functional" | Overview, Requirements Matrix, Acceptance Criteria |
| Release Plan | "release", "deployment", "go-live" | Timeline, Checklist, Rollback Plan |
| Architecture | "architecture", "design", "technical" | System Overview, Components, Data Flow |
| SOP | "procedure", "process", "how-to" | Purpose, Steps, Roles, Exceptions |

If ambiguous, ask once. If still unclear, default to generic structured document.

---

## Metadata Handling

**Never ask about:**
- Status → Always "DRAFT"
- Approvers → Leave blank
- Version → Default to 1.0 or extract from prompt
- Owner → Leave blank
- Review dates → Not relevant

**Auto-fill:**
- Last modified: Current date
- Status: DRAFT
- Version: 1.0

---

## Extensibility

### Future Role Consultant Modes

The skill is designed to support additional role-based modes:

- **BA-Senior Mode** (Business Analyst perspective)
  - Focus on requirements traceability
  - Stakeholder impact analysis
  - Acceptance criteria rigor

- **SRE-Senior Mode** (Site Reliability Engineer perspective)
  - Focus on operational concerns
  - Monitoring and alerting requirements
  - Incident response procedures
  - Capacity planning

- **PM-Senior Mode** (Product Manager perspective)
  - Focus on business value
  - User impact and metrics
  - Go-to-market considerations

**Architecture:** All modes share the same core engine, with mode-specific reasoning patterns injected.

---

## Usage Examples

### Example 1: Normal Mode

```
User: "Write a test plan for login feature"

Claude:
- Asks 5 questions (what changed, who's affected, timeline, constraints, risks)
- Generates test plan with safe defaults
- Includes: Scope, Test Cases, Entry/Exit, Assumptions, Risks
- Marks uncertain areas as "TBC"
- Labels as "DRAFT"
```

### Example 2: QA-Senior Mode

```
User: "Act as senior QA and write a test plan for login with 2FA"

Claude:
- Activates QA reasoning
- Thinks about: critical paths, failure points, data flow, integration
- Asks 5 focused questions
- Generates test plan with:
  - Positive and negative test cases
  - Edge cases (token expiry, race conditions)
  - Regression scope (existing login flows)
  - Rollback plan
  - Data cleanup requirements
- Includes QA quality checks
- Labels as "DRAFT"
```

---

## File Structure

```
D:\_0026W\claudecode\doc-expert/
├── .claude.md                          # This file (project memory)
└── skills/                             # Skills library (mirrors doc-revision structure)
    ├── doc-expert/                     # Main skill
    │   └── SKILL.md                    # Skill definition
    ├── content-research-writer/        # Formalization & feedback
    ├── docx/                           # Word document generation
    ├── pdf/                            # PDF parsing
    ├── markdown-tools/                 # Document conversion
    ├── financial-document-parser/      # Data extraction
    └── skill-creator/                  # Skill development guide
```

**Note:** The main SKILL.md is synchronized to `.claude/skills/doc-expert/SKILL.md` for Claude Code to recognize it.

---

## Integration

This skill can integrate with supporting skills in the `skills/` directory:

- `content-research-writer` - For formalization and feedback
- `pdf` skill - For parsing reference documents if provided
- `docx` skill - For Word export if requested
- `markdown-tools` - For document conversion
- `financial-document-parser` - For financial document data extraction

---

## Version History

**v1.0 (2026-02-13)**
- Initial release
- Normal mode + QA-Senior mode
- Minimal questioning strategy (max 5 questions)
- Safe defaults for all metadata
- QA quality checks and reasoning patterns
- Extensible architecture for future role-based modes

---

## Testing TODO

- [ ] Test Normal Mode with generic document request
- [ ] Test QA-Senior Mode with test plan request
- [ ] Verify minimal questioning (5 questions max)
- [ ] Verify safe defaults are applied
- [ ] Verify Confluence-ready output formatting
- [ ] Verify Assumptions/Risks/Open Questions sections included
- [ ] Test with ambiguous document type
- [ ] Test with user who provides minimal info

---

## Known Limitations (v1.0)

- Only QA-Senior mode implemented (BA, SRE, PM modes are placeholders)
- No integration with external knowledge bases
- No compliance language injection
- No template library (by design)

---

**Last Updated:** 2026-02-14
**Status:** v1.0 Ready for Testing
**Location:** `D:\_0026W\claudecode\doc-expert\`
**Structure:** Mirrors `doc-revision/` with skills/ subdirectory containing supporting skills
